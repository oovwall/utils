<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>utils.js - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <li class="nav-link nav-home-link"><a href="index.html">Home</a></li><li class="nav-heading"><a href="global.html">Globals</a></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#filterLeafIds">filterLeafIds</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#getAllNodeIds">getAllNodeIds</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#getAllNodes">getAllNodes</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#getSomeBranchNodes">getSomeBranchNodes</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#getTreeNodeIds">getTreeNodeIds</a></span></li>
</nav>

<div id="main">
    
    <h1 class="page-title">utils.js</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * 获取树的叶子id
 * @param {Array} arr - 源数组
 * @returns {Array} - 所有叶子id
 */
export function filterLeafIds (arr) {
  let filteredIds = []
  let leftArr = []

  arr.map(item => {
    if (item.children &amp;&amp; item.children.length > 0) {
      leftArr = leftArr.concat(item.children)
    } else {
      filteredIds.push(item.id)
    }
  })

  return leftArr.length ? filteredIds.concat(filterLeafIds(leftArr)) : filteredIds
}

/**
 * 获取树的所有id
 * @param {Array} arr - 源数组
 * @returns {Array} - 树所有id
 */
export function getAllNodeIds (arr) {
  let allIds = []
  let leftArr = []
  arr.forEach(item => {
    allIds.push(item.id)
    if (item.children &amp;&amp; item.children.length > 0) {
      leftArr = leftArr.concat(item.children)
    }
  })

  return leftArr.length ? allIds.concat(getAllNodeIds(leftArr)) : allIds
}

/**
 * 获取树的所有节点
 * @param {Array} arr - 源数组
 * @returns {Array} - 所有节点
 */
export function getAllNodes (arr) {
  let allNodes = []
  let leftArr = []
  arr.forEach(item => {
    allNodes.push(item)
    if (item.children &amp;&amp; item.children.length > 0) {
      leftArr = leftArr.concat(item.children)
    }
  })

  return leftArr.length ? allNodes.concat(getAllNodes(leftArr)) : allNodes
}

/**
 * 获取指定ID的树节点的所有id
 * @param {Array} arr - 源数组
 * @param {(number|string)} id
 * @returns {Array}
 */
export function getTreeNodeIds (arr, id) {
  let resultIds = []

  arr.map(item => {
    if (item.id === id) {
      resultIds.push(id)
      resultIds = resultIds.concat(getAllNodeIds(item.children))
    }
  })

  return resultIds
}

/**
 * 获取树某个对应id的全部节点
 * @param {Array} arr - 源数组
 * @param {(number|string)} id
 * @returns {Array}
 */
export function getSomeBranchNodes (arr, id) {
  let resultNodes = []

  arr.map(item => {
    if (item.id === id) {
      resultNodes.push(item)
      resultNodes = resultNodes.concat(getAllNodes(item.children))
    }
  })

  return resultNodes
}
</code></pre>
        </article>
    </section>




</div>

<br class="clear">

<footer>
    Generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.4</a> on Thu Oct 22 2020 15:37:33 GMT+0000 (Coordinated Universal Time) using the Minami theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>
